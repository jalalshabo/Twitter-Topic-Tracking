(this["webpackJsonpTwitter-Topic-Tracking"]=this["webpackJsonpTwitter-Topic-Tracking"]||[]).push([[0],{207:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(41),s=n.n(o),i=(n(91),n(6)),r=n(9),u=(n(93),Object(c.createContext)({})),l=Object(c.createContext)({}),b=Object(c.createContext)({}),j=(n(94),n(3));var d=function(){var e=Object(c.useContext)(u).globalState,t=Object(c.useContext)(b).fade,n=Object(c.useContext)(l).TitleMessage,a=Object(c.useContext)(l).SubMessage,o=Object(r.useSpring)({to:{opacity:1,marginTop:1===e?-100:-200},from:{opacity:0,marginTop:-500},config:{mass:1,frequency:1,damping:1}}),s=Object(r.useSpring)({to:{opacity:1,translateY:190},from:{opacity:0,translateY:0},delay:500,config:{mass:1,frequency:1,damping:1}});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(r.animated.h1,{style:o,children:[" ",n," "]}),Object(j.jsxs)(r.animated.p,{style:1===e?s:t,className:"typewriter",children:[" ",a]})]})};n(96);var O=function(){var e=Object(c.useContext)(u).globalState,t=Object(r.useSpring)({to:{opacity:.3,marginBottom:1===e?1e3:0,marginRight:0,borderRight:1===e?"1px solid #fff":"1px solid #000"},from:{opacity:0,marginBottom:-400,marginRight:-400},delay:1===e?0:500,config:{mass:1,frequency:1,damping:1}}),n=Object(r.useSpring)({to:{opacity:1===e?1:0,width:1===e?"10%":"0%"},delay:1===e?700:0,config:{mass:1,frequency:1,damping:2}}),a=Object(r.useSpring)({to:{rotateZ:0},from:{rotateZ:360},loop:!0,config:{duration:1e4}}),o=Object(r.useSpring)({to:{opacity:1===e?1:.5,marginBottom:1===e?800:0},from:{opacity:1===e?.5:0,marginBottom:0},config:{mass:1,frequency:1,damping:1}});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.animated.p,{style:t,className:"line"}),Object(j.jsx)(r.animated.p,{style:t,className:"line2"}),Object(j.jsx)(r.animated.p,{style:t,className:"line3"}),Object(j.jsx)(r.animated.hr,{style:n,className:"dateline"}),Object(j.jsx)(r.animated.div,{style:o,className:"circle"}),Object(j.jsx)(r.animated.div,{style:o,className:"larger-circle"}),Object(j.jsx)(r.animated.div,{style:a,className:"triangle"})]})},g=n(16),p=n.n(g),m=n(23),f=n(24),x=Object(c.createContext)({}),h=n(59);n(97);var y=function(e){var t=Object(c.useContext)(u).globalState,n=Object(c.useContext)(x),a=n.chosenOption,o=n.setChosenOption,s=Object(c.useContext)(x),l=(s.inputFieldValue,s.setInputFieldValue),b=Object(r.useSpring)({to:{opacity:1===t?.7:0,marginTop:1===t?200:0,backgroundColor:"#D5D5D5"},from:{opacity:0}}),d=Object(c.useState)(!1),O=Object(i.a)(d,2),g=O[0],p=O[1],m=Object(c.useState)(!1),f=Object(i.a)(m,2),h=f[0],y=f[1];function C(){function e(e){return Object(j.jsx)("a",{className:"menu-item",onClick:function(){return t=e.children,o(t),void p(!1);var t},children:e.children})}return Object(j.jsxs)("div",{className:"dropdown",children:[Object(j.jsx)(e,{children:"Overall"}),Object(j.jsx)(e,{children:"Location"}),Object(j.jsx)(e,{children:"User"})]})}return Object(c.useEffect)((function(){y("User"===a||"Location"===a)})),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(r.animated.div,{style:b,className:"dropdownbutton",onClick:function(){return p(!g)},children:[a," ",g?Object(j.jsx)("i",{class:"fas fa-caret-up"}):Object(j.jsx)("i",{class:"fas fa-caret-down"})]}),h&&!g&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{className:"inputfield",onChange:function(e){return l(e.target.value)}}),Object(j.jsx)("p",{children:"Location"===a?"e.g. Windsor, ON":""})]}),g&&Object(j.jsx)(C,{})]})};n(98);var C=function(){var e=Object(c.useContext)(u).Result,t=Object(c.useContext)(u).setResult,n=Object(c.useContext)(u).globalState,a=Object(c.useContext)(u).secondPage,o=Object(c.useContext)(u).buttonMessage1,s=Object(c.useContext)(u).setButtonMessage1,b=Object(c.useContext)(l).setMainMessage,d=Object(c.useContext)(l).setSubMessage,O=Object(c.useContext)(u).setglobalState,g=Object(c.useState)(!1),C=Object(i.a)(g,2),S=C[0],v=C[1],k=Object(c.useState)(!1),T=Object(i.a)(k,2),w=T[0],N=T[1],M=Object(c.useState)(!1),D=Object(i.a)(M,2),R=D[0],B=D[1],F=Object(c.useState)(""),I=Object(i.a)(F,2),Y=I[0],q=I[1],E=new Date,_=Object(c.useState)(!1),H=Object(i.a)(_,2),P=H[0],L=H[1],A=Object(c.useState)(!1),V=Object(i.a)(A,2),W=V[0],Z=V[1],J=Object(c.useState)("YYYY-MM-DD"),U=Object(i.a)(J,2),z=U[0],G=U[1],K=Object(c.useState)("Overall"),Q=Object(i.a)(K,2),X=Q[0],$=Q[1],ee=Object(c.useState)(new Date),te=Object(i.a)(ee,1)[0],ne=Object(c.useState)(new Date),ce=Object(i.a)(ne,2),ae=ce[0],oe=ce[1],se=Object(c.useState)(new Date),ie=Object(i.a)(se,2),re=ie[0],ue=ie[1],le=Object(c.useRef)(!0),be=Object(r.useSpring)({to:{marginRight:1===n?400:0,backgroundColor:1===n?"#D5D5D5":"#88AAE5",opacity:.5},from:{opacity:0},delay:1===n?0:300,config:{duration:1e3}}),je=Object(r.useSpring)({to:{opacity:1===n?.5:0,marginLeft:1===n?400:0,backgroundColor:"#D5D5D5"},from:{opacity:0}}),de=Object(r.useSpring)({loop:!0,from:{rotateZ:0},to:{rotateZ:180}});return Object(c.useEffect)((function(){le.current?le.current=!1:"Overall"===X?fetch("/api/tweets/date_range?start_date="+o+"&end_date="+z).then((function(e){return e.json()})).then((function(n){console.log(n),R&&(t(n),console.log(e),d(""),b("Topic Tracking Results: "),O(2))})).catch((function(e){alert("Could not retrieve the requested data!"),window.location.reload(!0)})):"Location"===X?fetch("/api/tweets/location?city="+Y+"&start_date="+o+"&end_date="+z).then((function(e){return e.json()})).then((function(n){console.log(n),R&&(t(n),console.log(e),d(""),b("Topic Tracking Results ("+Y+"): "),O(2))})).catch((function(e){alert("Could not retrieve the requested data!"),window.location.reload(!0)})):fetch("/api/tweets/user?user_name="+Y+"&start_date="+o+"&end_date="+z).then((function(e){return e.json()})).then((function(n){console.log(n),R&&(t(n),console.log(e),d(""),b("Topic Tracking Results ("+Y+"): "),O(2))})).catch((function(e){alert("Could not retrieve the requested data!"),window.location.reload(!0)}))}),[R]),Object(j.jsxs)(j.Fragment,{children:[S?Object(j.jsx)(h.a,{onChange:function(e){e.setHours(0,0,0,0)<=E.setHours(0,0,0,0)&&e.setHours(0,0,0,0)<=re.setHours(0,0,0,0)?(oe(e),v(!1),s(e.toISOString().substring(0,10)),document.getElementById("button2").style.display="block",L(!0)):alert("Choose a valid date!")},value:te,className:"front-calendar"}):Object(j.jsx)(r.animated.button,{style:be,className:"button",id:"button1",onClick:1===n?function(){v(!0),document.getElementById("button2").style.display="none"}:a,children:o}),w?Object(j.jsx)(h.a,{onChange:function(e){e.setHours(0,0,0,0)<=E.setHours(0,0,0,0)?P&&ae.setHours(0,0,0,0)<=e.setHours(0,0,0,0)?(ue(e),N(!1),G(e.toISOString().substring(0,10)),document.getElementById("button1").style.display="block",Z(!0)):P?alert("Choose a valid date!"):(ue(e),N(!1),G(e.toISOString().substring(0,10)),document.getElementById("button1").style.display="block",Z(!0)):alert("Choose a valid date!")},value:te,className:"front-calendar"}):Object(j.jsx)(r.animated.button,{style:je,className:"button",id:"button2",onClick:1===n?function(){N(!0),document.getElementById("button1").style.display="none"}:"",children:z}),Object(j.jsx)(x.Provider,{value:{chosenOption:X,setChosenOption:$,setInputFieldValue:q},children:1===n&&Object(j.jsx)(y,{})}),R&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"modal",children:[Object(j.jsx)(r.animated.div,{style:Object(f.a)({width:80,height:80,backgroundColor:"#deebf3",borderRadius:16,margin:20},de)}),Object(j.jsx)("h2",{children:" Retrieving Data..."})]})}),Object(j.jsx)(r.animated.button,{style:Object(r.useSpring)({to:{opacity:1===n?.5:0,marginTop:1===n?700:0,backgroundColor:"#555555",color:"#fff"},from:{opacity:0}}),className:"button",id:"submitbutton",onClick:Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P||!W){e.next=8;break}return t={buttonMessage1:o,buttonMessage2:z,chosenOption:X,InputFieldValue:Y},e.next=4,fetch("./add_sqlstatement",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:e.sent.ok&&B(!0),e.next=9;break;case 8:alert("You must enter a date range first!");case 9:case"end":return e.stop()}}),e)}))),children:"Submit"})]})},S=n(86);n(207);var v=function(){var e=Object(c.useContext)(u).Result,t=Object(c.useState)(0),n=Object(i.a)(t,2),a=n[0],o=n[1],s={labels:Object.keys(e[a]),datasets:[{label:"Overall Term Frequency",data:Object.values(e[a]),backgroundColor:["rgba(54, 162, 235, 0.2)"],borderColor:["rgba(54, 162, 235, 1)"],borderWidth:1}]},r={indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,plugins:{legend:{position:"right"},title:{display:!0,text:"Top 10 Relevant Terms for Topic "+(a+1)}}},l=function(e){o(e)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"result-wrapper",children:[Object(j.jsxs)("div",{className:"topic-selection",children:[Object(j.jsx)("button",{onClick:function(){return l(0)},children:" Topic 1"}),Object(j.jsx)("button",{onClick:function(){return l(1)},children:" Topic 2"}),Object(j.jsx)("button",{onClick:function(){return l(2)},children:" Topic 3"}),Object(j.jsx)("button",{onClick:function(){return l(3)},children:" Topic 4"}),Object(j.jsx)("button",{onClick:function(){return l(4)},children:" Topic 5"}),Object(j.jsx)("button",{onClick:function(){return l(5)},children:" Topic 6"}),Object(j.jsx)("button",{onClick:function(){return l(6)},children:" Topic 7"}),Object(j.jsx)("button",{onClick:function(){return l(7)},children:" Topic 8"}),Object(j.jsx)("button",{onClick:function(){return l(8)},children:" Topic 9"}),Object(j.jsx)("button",{onClick:function(){return l(9)},children:" Topic 10 "})]}),Object(j.jsx)("div",{className:"result-graph",children:Object(j.jsx)(S.a,{data:s,options:r})})]})})};var k=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),s=Object(i.a)(o,2),g=s[0],p=s[1],m=Object(c.useState)("Let's begin"),f=Object(i.a)(m,2),x=f[0],h=f[1],y=Object(c.useState)(""),S=Object(i.a)(y,2),k=S[0],T=S[1],w=Object(c.useState)(""),N=Object(i.a)(w,2),M=N[0],D=N[1],R=Object(c.useState)("Welcome to Topic Tracking"),B=Object(i.a)(R,2),F=B[0],I=B[1],Y=Object(c.useState)("A Twitter-based application"),q=Object(i.a)(Y,2),E=q[0],_=q[1],H=Object(r.useSpring)({to:{opacity:1===n?0:1},from:{opacity:1===n?1:0},delay:n?0:300,config:{duration:1e3}});return Object(j.jsx)("div",{className:"App",style:{backgroundColor:k,color:M},children:Object(j.jsx)(u.Provider,{value:{globalState:n,setglobalState:a,secondPage:function(){T("#6B7378"),D("#fff"),I("Enter your date range"),_("Sort Method:"),a(1),h("YYYY-MM-DD")},buttonMessage1:x,setButtonMessage1:h,Result:g,setResult:p},children:Object(j.jsxs)(l.Provider,{value:{TitleMessage:F,SubMessage:E,setSubMessage:_,setMainMessage:I},children:[Object(j.jsx)(O,{}),Object(j.jsxs)(b.Provider,{value:{fade:H},children:[Object(j.jsx)(d,{}),2!==n&&Object(j.jsx)(C,{}),2===n&&Object(j.jsx)(v,{})]})]})})})};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(k,{})}),document.getElementById("root"))},91:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[208,1,2]]]);
//# sourceMappingURL=main.bc8b6039.chunk.js.map